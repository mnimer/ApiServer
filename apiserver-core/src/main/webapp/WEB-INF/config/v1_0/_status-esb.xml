<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:ctx="http://www.springframework.org/schema/context"
	   xmlns:util="http://www.springframework.org/schema/util"
	   xmlns:mvc="http://www.springframework.org/schema/mvc"
	   xmlns:context="http://www.springframework.org/schema/context"
	   xmlns:si="http://www.springframework.org/schema/integration"
	   xmlns:http="http://www.springframework.org/schema/integration/http"
	   xmlns:oxm="http://www.springframework.org/schema/oxm"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
           http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration.xsd http://www.springframework.org/schema/integration/http http://www.springframework.org/schema/integration/http/spring-integration-http.xsd http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm.xsd">


	<!-- SERVICES -->
	<bean id="noOpService" class="apiserver.apis.v1_0.common.NoOpService"/>
	<bean id="statusService" class="apiserver.apis.v1_0.status.services.StatusService"/>
	<bean id="coldFusionStatusService" class="apiserver.apis.v1_0.status.services.ColdFusionStatusService"/>


	<!-- ESB configuration -->
	<si:channel id="healthInputChannel"/>
	<si:channel id="healthOutputChannel"/>
	<si:channel id="coldFusionInputChannel"/>
	<si:channel id="coldFusionOutputChannel"/>


	<!-- simple no operation method to finish the chain, we'll pull the data by reference out of hte payload directly. -->
	<si:service-activator
			input-channel="healthOutputChannel"
			ref="noOpService"
			method="noOpHandler"/>
	<si:service-activator
			input-channel="coldFusionOutputChannel"
			ref="noOpService"
			method="noOpHandler"/>


	<!--
		SIMPLE HEALTH PING CHAIN
	-->
	<si:chain input-channel="healthInputChannel" output-channel="healthOutputChannel">
		<si:service-activator
			ref="statusService"
			method="healthHandler"/>

	</si:chain>


	<!--
		COLDFUSION HEALTH PING CHAIN
	-->
	<si:chain input-channel="coldFusionInputChannel" output-channel="coldFusionOutputChannel">
		<si:service-activator
			ref="coldFusionStatusService"
			method="healthHandler"/>
	</si:chain>


</beans>

